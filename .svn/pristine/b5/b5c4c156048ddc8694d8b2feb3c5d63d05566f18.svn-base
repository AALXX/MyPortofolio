import Link from 'next/link'
import React, { FC, useState } from 'react'

interface ProjectProps {
    projectName: string,
    githubLink: string,
    description: string,
    projectLogo: string,
    lastupdate: number,
    languages: string[],
}

const ProjectCard: FC<ProjectProps> = (props) => {
    const [projectSelected, setProjectSelected] = useState(false);
    const [projectOverlay, setProjectOverlay] = useState(false)

    return (
        <div className='flex flex-col bg-project-card-grey w-project-card-width h-project-card-height'>

            {projectSelected ? (
                <div>
                    <div className='flex h-40'>
                        <img className='w-28 h-28 mt-5 ml-5' src={`${process.env.SERVER_BACKEND}/get-projects/logo/${props.projectLogo}`} />
                        <div className='flex flex-col h-full ml-5 w-full'>
                            <h1 className='text-white text-xl font-Exo_2 mt-5'>Project Name: {props.projectName}</h1>
                            <div className='flex w-full flex-col mt-2'>
                                <h1 className='text-white text-xl font-Exo_2 h-full'>Description:</h1>
                                <h1 className='text-white text-[0.7rem] mt-2 font-Exo_2 h-full'>{props.description}</h1>
                            </div>
                        </div>
                    </div>
                    <hr className='w-project-card-line-width self-center mt-8' />
                    <div className='flex h-full mt-8 flex-col'>
                        <div className='flex w-project-card-line-width self-center h-10 bg-project-card-field-gray '>
                            <img className='h-8 self-center ' src="/assets/ProjectImages/git_logo.svg" />
                            <Link href={props.githubLink}>
                                <a className='text-black ml-2 font-Exo_2 text-[0.9rem] self-center'>{props.githubLink}</a>
                            </Link>
                        </div>

                        <div className='flex w-project-card-line-width self-center mt-11  h-10 bg-project-card-field-gray'>
                            <h1 className='text-black ml-4 font-Exo_2 self-center'>Last updated:</h1>
                        </div>

                        <div className='flex w-project-card-line-width self-center mt-11  h-10 bg-project-card-field-gray'>
                            <h1 className='text-black ml-4 font-Exo_2 self-center'>Languages used:</h1>
                            {props.languages.map(languages => <p className='ml-2 font-Exo_2 self-center'>{languages},</p>)}
                        </div>
                        <button className='h-7 self-center mr-4 mt-14' onClick={() => { setProjectSelected(!projectSelected) }}>
                            <img className='h-9' src="/assets/Projects/flipPage.svg" />
                        </button>
                    </div>
                </div>
            ) : (

                <div
                    className='flex cursor-pointer h-full flex-col justify-center'
                    onClick={() => { setProjectSelected(!projectSelected) }}
                    onMouseEnter={() => { setProjectOverlay(true) }}
                    onMouseLeave={() => { setProjectOverlay(false) }}>
                    {projectOverlay ? (
                        <div className='flex flex-col justify-center w-project-card-width h-project-card-height bg-black absolute opacity-70'>
                            <img className='w-20 self-center' src="/assets/Projects/search.svg" alt="" />
                        </div>
                    ) : (null)}
                    <img className='w-80 h-80 self-center' src={`${process.env.SERVER_BACKEND}/get-projects/logo/${props.projectLogo}`} />
                </div>
            )}

        </div>
    )
}

export default ProjectCard;
